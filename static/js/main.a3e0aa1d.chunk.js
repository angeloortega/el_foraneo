(this.webpackJsonpel_foraneo=this.webpackJsonpel_foraneo||[]).push([[0],[,,,,,,,,,,function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAAB3klEQVRYCe2Vy0oCYRiGp6AoItDQbqJVtYlACaJFRGElRVcRRIdVCC2LgmhR92DZfbQIWiWF1raEoiN0UHte/AckdJzREQqM9/H9D9/3/tOoo2W1/lp34B/egX6uOQFncGfQeJNxGJqqJdJfoViFF9YXoCmKk1oAHZ7EIxA0RPFj0F4BnwVfFSLtCXTAMl5NK2yo5hHvA9+0RZKC9Z8zdNQpu6pN4L7pgqQi6LZjjhqzLEu157hv0odLoT0uEnupUe0zXlPtNStKBfmSeXp11eP2ArLm6CHjTjZsNjPGHc3tBaRMyqpxJ1szmyfGfbEwKTnQe7uCV9MaG6q5x0Pgq2KkfYMOSOIR6IJuiIL9IFLNNPOmKE5qHnQRldDePPtN0RSpaah0cPnaJTWT4JvaSNqD8kOyzAcgaND41io9gFRXYLwD6sUa0y7tCv3E1yEHmu/jAcMBrjV9+DYYf4Hm23hDitGtIB0+zljSmuZaL+eDzRmQJnixa+w1lrypk/IbKMLvr94oa/rRecBFCh+Bcq0yUW8G7wDPWqRDAWm8nvdSPVf0KiOOV5TTk3DOdBziCsE8ST1HpsPOMlN3lqVMIYN4vRqmURnXuGe906HmAF6vgjQq4w1vqXUH/uYd+AEuboI/eweWAgAAAABJRU5ErkJggg=="},function(e,a,t){e.exports=t.p+"static/media/logo.dbf7907c.png"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAACEUlEQVRYCe2WPUtbYRiG31oQipTq4FCU0H/g2M2PvVK6+YGTEnQqXdQxGm0HN0v7O9oqdpDuRQf/gAhKVFxKl4LaQryucAJHT0hONCcU8XDfuZ/3+T4vRzCEh+fhBv7TG+hgryn4FR7CX/AMbsFx2AlvQt8ETnPMtcbaL/gmoT2RxsiRsgPLdVgiNgqreI2hr17NT3L6YV28CCGcQBu5fR67D/ZA1fMBtnFZxF6F2nIfewaaW62Z5XwEjZfQHKyJx3j3oInb6DNYC504F+FfaK68xJ6HxpAEuvH8gObuoh0wgUk8JhygT2EjDJHwO+Ig2gi+kLdaJnEMJrCJx2AeTYsREodD+meOVGd8QxM4xWOwD80KORo74xhN4AKPwSdoVuiisTPO0QriH0N1q4FKJJufl1Hb6qwQX2AjCr6NNAtZiJp+j/Sa9HLyq/aK/Nvl2FL4Yvb+Q9fnsCam8Zp0gb6CrcIojexp73fYdfGBqIl+KK1YIj58jd6pUAghuMQ/dBzeFtbaw16F0OSzRL6FNrARx6ZgjbX2KIRbPvElxproER9ujyZKk6nLuHwL3ybNEvHh1lJ+dxRpkWaJTIYzu4JGS8SHm1spavXPCg1r3UR8uDmkZYdVWruE/4S8wfa78PvQl/lw5oVH/HyEDjxHpfY6tjGkPXjPGAdLb4Vje+HbfmbkJ6iNtB8Olu2ffG8mXgF70JNPOi7OaQAAAABJRU5ErkJggg=="},,function(e,a,t){},function(e,a,t){e.exports=t.p+"static/media/logoBN.d71d7d13.png"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAClElEQVRYCe2Xz0obURSHY0ATCbpsoHkE1+myb+E6S2MtSPoKbTf1FWqheQ/XRgcTZ2FXrlqouyC2oCBp/H7ghXDJOHPRzj2LkfPlZM49M/d3/8R7plar/qoZqGYg9gysIaAPCUwfOcXvwCqYtg7qxjDP4Iz4azBpTVSlkCXexSfkNMCcDVDkROb5fXLNmfZ8nnDXPjKnHkF/wQnM8zfkLrX60mg5QYl+dk8xBrCJ6gNoQlG7KJr4P/NWeHgPrmAeyC75Ua1L7yMIFa78CffpsMOVb226PIQZSIzPT+Ip+HF3He0gUwnwAWHX4MQs+lviH6EFmt33eK2Q4nd8j1pKbCPgEhYFu+//iA/BZHmwhbAjcGJ9f0LbGyjdtMR9ek1g+sgxfg+0VVr4T6Dl90XrWttoQLtyceVaXrV4jpxfIKE+M+Jf4RVEsSa9puALK3KtFepyb1Qb0HsRsYs5v7mnBzq0cHEtoft5Qe7J+wIbYMZCqsU/sVTXX6hjrdQLPSrsMU8N4EfAo9bJNbeF9hClmQ3B1I+4wQBSCBmAyz3mvuj/RtFQ6/AxBifM93kH2SH3tiGqrdF7HxJQpXiL1wy/w6s8aOE/g+L+AHV9TdsAVsG0abWGKFTFKeE+l7Rtg3l7i8Jz8Afgro9o2wLTpu2S90KjCrbFKLRF3QvNlGtxit8BPQcXz9p0/Q1m4FZg0auSTTPalHdGm4mXny5CRiBRoeilvsG90U0Vag8VVzAPZJ98M7aJkgO4h6ID0eqRbstUwRYdwE2W9HpWQwlxbalndxNzACHV7kXWSGMO4HuWqCXx4ZJY9FADBU+dAe73MSFPhx3OnnWQNAYn1vdmDjI0Zppmt09rAqp2hZlSAk2VVTNgegYeANyjhWbmO/MNAAAAAElFTkSuQmCC"},,function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAACUElEQVRIDZ2UTWsTURhGJwVBF7pRMaGIJlqVSHFRdCX4Awohght10W1ESpcu+uHWH9BFd+JCaYMNSkXtH/EL68KV4MZYkCQ1Gc+JE9E4M5lUnnOf974fN9fMpLkgSP2Xp3odqnASjoP6yvIZnkV8wcfSWbrr0IVwBPbYe4a+TKrStQse3MLXYQ6m4USEsTlrbXIhfIcKpGqBqjdyYJO4CKNUoqEBzjg7TxyrClkbevgijKMczUvgrGfMEv+jArsmeItlfL9aYdAzvuF+ndhvrWEWnuPeBsusGTrvgXJ2i8CzVvG+Jln3oA2+PVgmTdPVgB5chYGmCDoRBTy4y+InbuBZdJ6mJ9AF517iw/K1tVaz8IrFzU08TUWKD+EnhBHefoZ4WLdI2PMCD96zuDmHJ8lXsUVxgP3ylFycLpC0/hYP/IG4OewmgUfk23AKTgdB0AH/J2U8TkdIhtCcYMmBMqEP421uDyXtfUzuDcTJuvn+2R+ITCR9RT586zL4ivQSc0nyRbD/3QQdO6DiHtYlCjdgoAMEdSjDJ0jS4KyPNqS9pv7wvEmPxk24CFlUp8m5Gh5MsuyBD/HvH9oVch68jV+GrJqisRNRwPtaY/UTvXH/wbC/D9dgHDm7xUAIq/BHflKTnYVlfL9aYdAz/vtjRz6osHShB4swjrz5EgPOesYscawWyNrgLXyoRfajVKKhAc44O0+cqirVXXCgha/DHJThIBwCY3PrxG0Iwb8IFTyTjtH1AH6Aw2nYY+9ResdWnok7sA070Iowfk1cgzwk6hcfGKpDHKjSBgAAAABJRU5ErkJggg=="},function(e,a,t){e.exports=t.p+"static/media/nuevaReceta.611ea535.png"},function(e,a,t){e.exports=t.p+"static/media/logout.541b8595.png"},function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAOCAYAAABdC15GAAAACXBIWXMAAAsSAAALEgHS3X78AAAA2UlEQVRIic3QsRGCMBTG8Q/PAWxNo61pJBPAKG6gI7CCG7iKEwQbam2o3SAe+rhTw4OQAMf/Lk1yyb38ImMMhkgouQVwoacOpS7uQ7y7sHY8EkqeAOQAElo57QUXJPillliHn66hmt6Cf2pcwZq9BR3UuLw0ewkKJTMHNa5aM2POG3MSFErGpLa3Dv26kWbedbtTkH6sBxwO9JZ20WQFR1DjatVsFBxJjatV80dwQjUuS/M9oFByBaD6wZG5OHXnap5SF89oHe9SUtvMZLi6R6W5BFAPOL+A9AXsjlV4Jod43wAAAABJRU5ErkJggg=="},function(e,a,t){e.exports=t(37)},,,,,function(e,a,t){},,function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){},function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),s=t(7),i=t.n(s),o=(t(27),t(1)),c=t.n(o),l=t(2),m=t(3),u=t(6),d=t(4),p=t(9),g=t(5),E=t(11),h=t.n(E),f=(t(29),t(8)),v=t(15),b=t.n(v),N=t(12),A=t.n(N),R=t(10),y=t.n(R),C=t(16),w=t.n(C),k=t(18),j=t.n(k),S=t(19),I=t.n(S),O=(t(14),t(20)),x=t.n(O),P=(t(30),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).renderReceta=function(e){var a=e.id,t=e.nombre,r=e.pasos,s=e.tiempo,i=e.imagen,o=e.categoria,c=e.usuario,l=e.rating,m=e.ingredientes,u=e.precio;return n.a.createElement(L,{key:a,idReceta:a,nombre:t,pasos:r,tiempo:s,imagen:i,categoria:o,usuario:c,rating:l,ingredientes:m,precio:u})},t.renderIngredientes=function(e){var a=e.cantidad,t=e.nombre;return n.a.createElement("tr",null,n.a.createElement("td",null,"x",a),n.a.createElement("td",null,t))},t.renderResumen=function(e){var a=e.cantidad,t=e.nombre;return n.a.createElement("tr",null,n.a.createElement("td",null,t),n.a.createElement("td",null,"x",a))},t.getPrecio=function(){for(var e=0,a=0;a<t.props.recetas.length;a++)e+=t.props.recetas[a].precio;return e},t.state={resumen:[],ingredientes:[]},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,r,n,s,i,o;return c.a.async((function(c){for(;;)switch(c.prev=c.next){case 0:for(e=[],a=[],t=0,r=[],n={},s=0;s<this.props.recetas.length;s++)for(t=this.props.recetas[s],r.includes(t.id)||(i=this.props.recetas.reduce((function(e,a){return e+(a.id===t.id)}),0),e.push({nombre:t.nombre,cantidad:i}),r.push(t.id)),o=0;o<t.ingredientes.length;o++)n[t.ingredientes[o].nombre]=(n[t.ingredientes[o].nombre]||0)+t.ingredientes[o].cantidad;Object.keys(n).forEach((function(e,t){a.push({nombre:e,cantidad:n[e]})})),this.setState({resumen:e,ingredientes:a});case 8:case"end":return c.stop()}}),null,this)}},{key:"render",value:function(){return n.a.createElement("div",{className:"CuadroCategoria"},n.a.createElement("div",{className:"SuperiorCategoria"},n.a.createElement("label",{className:"SubtituloFiltro"},this.props.categoria)),n.a.createElement("div",{className:"ContenedorCategoria"},this.props.recetas.map(this.renderReceta)),n.a.createElement("div",{className:"CuadroResumen"},n.a.createElement("div",{className:"SuperiorFiltrosPlan"},n.a.createElement("label",{className:"SubtituloFiltro"},"Resumen del plan")),n.a.createElement("div",{className:"ContenedorResumen"},n.a.createElement("div",{className:"InteriorResumen"},n.a.createElement("div",{className:"CuadroDatos"},n.a.createElement("p",{className:"PrecioResumen"},"Costo total: \u20a1",this.getPrecio()),n.a.createElement("table",null,n.a.createElement("tbody",null,this.state.resumen.map(this.renderResumen)))),n.a.createElement("div",{className:"CuadroDatos"},n.a.createElement("p",{className:"PrecioResumen"},"Ingredientes"),n.a.createElement("table",null,n.a.createElement("tbody",null,this.state.ingredientes.map(this.renderResumen))))))))}}]),a}(n.a.Component)),F=(t(31),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).renderPlan=n.a.createElement(P,{recetas:t.props.recetas}),t.renderCategoria=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:a},t)},t.generar=function(){var e,a,r,s,i,o,l,m,u;return c.a.async((function(d){for(;;)switch(d.prev=d.next){case 0:e="",a=-1,r=-1,s=t.state.categoria,i=t.state.cantidad,d.t0=parseInt(t.state.precios),d.next=1===d.t0?4:2===d.t0?7:3===d.t0?10:4===d.t0?13:16;break;case 4:return a=0,r=1e3,d.abrupt("break",17);case 7:return a=1e3,r=2e3,d.abrupt("break",17);case 10:return a=2e3,r=3e3,d.abrupt("break",17);case 13:return a=3e3,r=9999999,d.abrupt("break",17);case 16:return d.abrupt("break",17);case 17:if(!(a>-1&&r>-1&&parseInt(i)>0&&s>0)){d.next=28;break}return d.next=20,c.a.awrap(fetch("/plan?min=".concat(a,"&max=").concat(r,"&cantidad=").concat(i,"&id_categoria=").concat(s)));case 20:return o=d.sent,d.next=23,c.a.awrap(o.json());case 23:if(l=d.sent,m=t.state.numeroDeResultado,l.result&&l.recetas.recetas.length>0){for(t.setState({errorMessage:""}),u=0;u<t.props.categorias.length;u++)parseInt(t.props.categorias[u].id)===parseInt(s)&&(e=t.props.categorias[u].nombre);t.setState({numeroDeResultado:m+1,despliegue:n.a.createElement(P,{categoria:e,key:m,recetas:l.recetas.recetas})})}else t.setState({despliegue:[],errorMessage:"No se encontraron planes de comida con los par\xe1metros insertados :("});d.next=29;break;case 28:t.setState({errorMessage:"Por favor llene todos los campos solicitados correctamente."});case 29:case"end":return d.stop()}}))},t.state={despliegue:[],categoria:0,precios:0,cantidad:0,errorMessage:"",numeroDeResultado:0},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this,a=this.state.despliegue;return n.a.createElement("div",{className:"App"},n.a.createElement(X,null),n.a.createElement("div",{className:"FondoPlan"},n.a.createElement("div",{className:"CuadroFiltrosPlan"},n.a.createElement("div",{className:"SuperiorFiltrosPlan"},n.a.createElement("label",{className:"SubtituloFiltro"},"Generaci\xf3n de plan de comidas")),n.a.createElement("div",{className:"ContenedorFiltros"},n.a.createElement("div",{className:"InteriorFiltrosPlan"},n.a.createElement("div",{className:"CampoFiltro"},n.a.createElement("p",{className:"DescripcionFiltro"},"\xbfQu\xe9 desea comer?"),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.categoria,onChange:function(a){e.setState({categoria:a.target.value})}},n.a.createElement("option",{disabled:!0,hidden:!0,key:0,value:0},"Categor\xeda"),this.props.categorias.map(this.renderCategoria))),n.a.createElement("div",{className:"CampoFiltro"},n.a.createElement("p",{className:"DescripcionFiltro"},"\xbfA qu\xe9 precio?"),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.precios,onChange:function(a){e.setState({precios:a.target.value})}},n.a.createElement("option",{disabled:!0,hidden:!0,key:0,value:0},"Rango de Precios"),[{id:1,nombre:"0-1000"},{id:2,nombre:"1000-2000"},{id:3,nombre:"2000-3000"},{id:4,nombre:"3000+"}].map(this.renderCategoria))),n.a.createElement("div",{className:"CampoFiltro"},n.a.createElement("p",null,"\xbfEn cu\xe1ntas comidas?"),n.a.createElement("input",{onChange:function(a){e.setState({cantidad:a.target.value})},value:this.state.cantidad,className:"CampoCant",type:"number",id:"cantidad",placeholder:"Cantidad",required:!0}))),n.a.createElement("button",{className:"BotonGenerar",onClick:this.generar},"Generar"))),n.a.createElement("div",{className:"DetallesComidas"},a),n.a.createElement("h2",null,this.state.errorMessage)))}}]),a}(n.a.Component)),M=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).updateValues=function(){var e,a,r,n,s,i;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return e=new f.a,a=e.get("USER").id,o.next=4,c.a.awrap(fetch("/usuario/".concat(encodeURIComponent(a))));case 4:return r=o.sent,o.next=7,c.a.awrap(r.json());case 7:return n=o.sent,o.next=10,c.a.awrap(fetch("/categorias"));case 10:return r=o.sent,o.next=13,c.a.awrap(r.json());case 13:return s=o.sent,o.next=16,c.a.awrap(fetch("/todas/".concat(encodeURIComponent(a))));case 16:return r=o.sent,o.next=19,c.a.awrap(r.json());case 19:i=o.sent,t.setState({userInfo:n.userInfo[0],recetas:i.recetas,categorias:s.categorias});case 21:case"end":return o.stop()}}))},t.generarPlan=function(){i.a.render(n.a.createElement(F,{recetas:t.state.recetas,categorias:t.state.categorias,notificaciones:t.state.notificaciones}),document.getElementById("root"))},t.renderCategoria=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:t},t)},t.renderFiltro=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:a},t)},t.renderReceta=function(e){var a=e.id,r=e.nombre,s=e.pasos,i=e.tiempo,o=e.imagen,c=e.categoria,l=e.usuario,m=e.rating,u=e.ingredientes,d=e.precio;return n.a.createElement(L,{key:a,idReceta:a,nombre:r,pasos:s,tiempo:i,imagen:o,categoria:c,usuario:l,rating:m,ingredientes:u,precio:d,update:t.updateValues})},t.state={userInfo:{nombre:"",apellidos:"",usuario:""},recetas:[],categorias:[],categoria:"0",precios:"0",tiempo:"0"},document.body.style="background: #faeeae;",t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(this.updateValues());case 2:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a=this.state,t=a.userInfo,r=a.recetas,s=a.categorias;return n.a.createElement("div",{className:"App"},n.a.createElement(X,null),n.a.createElement("div",{className:"App-contenido"},n.a.createElement("div",{className:"Muro"},n.a.createElement("div",{className:"Nombreperfil"},n.a.createElement("div",{className:"Parriba"},n.a.createElement("p",{className:"PdistanciaMargin"},t.nombre+" "+t.apellidos)),n.a.createElement("div",{className:"PdistanciaMargin"},n.a.createElement("p",null,t.usuario))),n.a.createElement("div",{className:"CuadroFiltros"},n.a.createElement("div",{className:"SuperiorFiltros"},n.a.createElement("label",{className:"Subtitulo"},"Filtros"),n.a.createElement("button",{className:"ButonGenerar",onClick:this.generarPlan}," Generar Plan ")),n.a.createElement("div",{className:"InteriorCuadroFiltros"},n.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.tiempo,onChange:function(a){e.setState({tiempo:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Tiempo"),[{id:1,nombre:"0-30 min"},{id:2,nombre:"30-60 min"},{id:3,nombre:"60+ min"}].map(this.renderFiltro)),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.categoria,onChange:function(a){e.setState({categoria:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Categor\xeda"),s.map(this.renderCategoria)),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.precios,onChange:function(a){e.setState({precios:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Rango de Precios"),[{id:1,nombre:"0-1000"},{id:2,nombre:"1000-2000"},{id:3,nombre:"2000-3000"},{id:4,nombre:"3000+"}].map(this.renderFiltro)))),r.filter((function(a){return("0"===e.state.categoria||a.categoria===e.state.categoria)&&("0"===e.state.precios||"1"===e.state.precios&&a.precio<=1e3||"2"===e.state.precios&&a.precio>=1e3&&a.precio<=2e3||"3"===e.state.precios&&a.precio>=2e3&&a.precio<3e3||"4"===e.state.precios&&a.precio>=3e3)&&("0"===e.state.tiempo||"1"===e.state.tiempo&&a.tiempo<=30||"2"===e.state.tiempo&&a.tiempo>=30&&a.tiempo<=60||"3"===e.state.tiempo&&a.tiempo>=60)})).map(this.renderReceta))))}}]),a}(n.a.Component),B=(t(32),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).state={},t.state.filterText="",t.state.ingredientes=[],t.state.id=1,t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"handleRowDel",value:function(e){var a=this.state.ingredientes.indexOf(e);this.state.ingredientes.splice(a,1),this.setState(this.state.ingredientes)}},{key:"handleAddEvent",value:function(e){var a=this.state.id,t={id:a,nombre:"",precio:"",cantidad:1};this.state.ingredientes.push(t),this.setState({ingredientes:this.state.ingredientes,id:a+1})}},{key:"handleIngredienteTable",value:function(e){var a={id:e.target.id,name:e.target.name,value:e.target.value},t=this.state.ingredientes.slice().map((function(e){for(var t in e)t==a.name&&e.id==a.id&&(e[t]=a.value);return e}));this.setState({ingredientes:t}),this.props.update(t)}},{key:"render",value:function(){return n.a.createElement("div",{className:"Ttabla"},n.a.createElement(T,{onIngredienteTableUpdate:this.handleIngredienteTable.bind(this),onRowAdd:this.handleAddEvent.bind(this),onRowDel:this.handleRowDel.bind(this),ingredientes:this.state.ingredientes,filterText:this.state.filterText}))}}]),a}(n.a.Component)),T=function(e){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){var e=this.props.onIngredienteTableUpdate,a=this.props.onRowDel,t=this.props.filterText,r=this.props.ingredientes.map((function(r){if(-1!==r.nombre.indexOf(t))return n.a.createElement(D,{onIngredienteTableUpdate:e,ingrediente:r,onDelEvent:a.bind(this),key:r.id})}));return n.a.createElement("div",{className:"TmodTable"},n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Nombre"),n.a.createElement("th",null,"Precio"),n.a.createElement("th",null,"Cantidad"))),n.a.createElement("tbody",null,r)),n.a.createElement("button",{className:"TbotonMas",type:"button",onClick:this.props.onRowAdd},"+"))}}]),a}(n.a.Component),D=function(e){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(m.a)(a,[{key:"onDelEvent",value:function(){this.props.onDelEvent(this.props.ingrediente)}},{key:"render",value:function(){return n.a.createElement("tr",{className:""},n.a.createElement(U,{onIngredienteTableUpdate:this.props.onIngredienteTableUpdate,cellData:{type:"nombre",value:this.props.ingrediente.nombre,id:this.props.ingrediente.id}}),n.a.createElement(U,{onIngredienteTableUpdate:this.props.onIngredienteTableUpdate,cellData:{type:"precio",value:this.props.ingrediente.precio,id:this.props.ingrediente.id}}),n.a.createElement(U,{onIngredienteTableUpdate:this.props.onIngredienteTableUpdate,cellData:{type:"cantidad",value:this.props.ingrediente.cantidad,id:this.props.ingrediente.id}}),n.a.createElement("td",{className:""},n.a.createElement("input",{type:"button",onClick:this.onDelEvent.bind(this),value:"X",className:""})))}}]),a}(n.a.Component),U=function(e){function a(){return Object(l.a)(this,a),Object(u.a)(this,Object(d.a)(a).apply(this,arguments))}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("td",null,n.a.createElement("input",{className:"Tinput",type:"text",name:this.props.cellData.type,id:this.props.cellData.id,value:this.props.cellData.value,onChange:this.props.onIngredienteTableUpdate}))}}]),a}(n.a.Component),H=B,V=(t(33),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).updateValues=function(){var e,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,c.a.awrap(fetch("/categorias"));case 2:return e=r.sent,r.next=5,c.a.awrap(e.json());case 5:a=r.sent,t.setState({categorias:a.categorias});case 7:case"end":return r.stop()}}))},t.renderCategoria=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:a},t)},t.updateIngredientes=function(e){return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:t.setState({ingredientes:e});case 1:case"end":return a.stop()}}))},t.toBase64=function(e){return new Promise((function(a,t){var r=new FileReader;r.readAsDataURL(e),r.onload=function(){return a(r.result)},r.onerror=function(e){return t(e)}}))},t.NuevaReceta=function(e){var a,r,s,o,l,m,u,d,g,E,h,v;return c.a.async((function(b){for(;;)switch(b.prev=b.next){case 0:if(e.preventDefault(),e.persist(),e.target.checkValidity()&&0!==t.state.ingredientes.length){b.next=7;break}t.setState({errorMessage:"Por favor llene todos los campos y agregue por lo menos un ingrediente."}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),3e3),b.next=26;break;case 7:return console.log("Valida"),a=new f.a,r=a.get("USER").id,s=document.getElementById("inputNombreReceta").value,o=document.getElementById("inputTiempoEstimado").value,l=t.state.ingredientes,m=document.getElementById("inputPasos").value,u=document.getElementById("inputAgregarImg").files[0],b.next=17,c.a.awrap(t.toBase64(u));case 17:return d=b.sent,g=document.getElementById("Cat").value,E=new FormData(e.target),h=new URLSearchParams(E),v={Nombre:s,Tiempo:o,Ingredientes:l,Pasos:m,Imagen:d,Categoria:g,Usuario:r},h.append("datos",JSON.stringify(v)),b.next=25,c.a.awrap(fetch("/addReceta",{method:"POST",body:h}).then((function(e){return e.json()})));case 25:i.a.render(n.a.createElement(z,null),document.getElementById("root"));case 26:case"end":return b.stop()}}))},t.state={categorias:[],categoria:"",ingredientes:[],errorMessage:""},t.NuevaReceta=t.NuevaReceta.bind(Object(p.a)(t)),t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateValues();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"alinearCentro"},n.a.createElement(X,null),n.a.createElement("h3",null,this.state.errorMessage),n.a.createElement("div",{className:"CuadroNuevaRecetas"},n.a.createElement("form",{noValidate:!0,onSubmit:this.NuevaReceta},n.a.createElement("div",{className:"HeadReceta"},n.a.createElement("div",{className:"Info"},n.a.createElement("img",{src:y.a,className:"iconos",alt:"Notificaciones"}),n.a.createElement("div",{className:"tiempo"},n.a.createElement("p",{className:"NuevaReceta"}," Nueva Receta ")))),n.a.createElement("div",{className:"CuerpoNuevaReceta"},n.a.createElement("div",{className:"NRcentrar"},n.a.createElement("div",{className:"NRrow"},n.a.createElement("div",{className:"NRizq"},"Nombre receta:"),n.a.createElement("div",{className:"NRder"},n.a.createElement("input",{className:"NRInput",type:"text",id:"inputNombreReceta",required:!0}))),n.a.createElement("div",{className:"NRrow"},n.a.createElement("div",{className:"NRizq"},"Tiempo estimado:"),n.a.createElement("div",{className:"NRder"},n.a.createElement("input",{className:"NRInput",type:"text",id:"inputTiempoEstimado",required:!0}))),n.a.createElement("div",{className:"NRrow"},n.a.createElement("div",{className:"NRizq"},"Categoria:"),n.a.createElement("div",{className:"NRder"},n.a.createElement("select",{className:"DropFiltroPlan",id:"Cat",value:this.state.categoria,onChange:function(a){e.setState({categoria:a.target.value})}},n.a.createElement("option",{key:0,value:"0",hidden:!0,disabled:!0},"Categor\xeda"),this.state.categorias.map(this.renderCategoria)))),n.a.createElement("div",{className:"NRrow"},n.a.createElement("div",{className:"NRizq"},"Agregar ingrediente:"),n.a.createElement("div",{className:"NRfull"},n.a.createElement(H,{update:this.updateIngredientes}))),n.a.createElement("div",{className:"NRrow"},n.a.createElement("div",{className:"NRizq"},"Pasos para elaborar:"),n.a.createElement("div",{className:"NRder"},n.a.createElement("textarea",{className:"NRInput",type:"text",id:"inputPasos",rows:"5",required:!0}))),n.a.createElement("div",{className:"NRrow"},n.a.createElement("div",{className:"NRizq"},"Agregar imagen:"),n.a.createElement("div",{className:"NRderB"},n.a.createElement("input",{type:"file",name:"pic",accept:"image/*",id:"inputAgregarImg",required:!0}))))),n.a.createElement("div",{className:"BarraCalificaciones"},n.a.createElement("div",{className:"NRbotonDer"},n.a.createElement("button",{className:"NRboton"},"Agregar Receta"))))))}}]),a}(n.a.Component)),J=t(21),Q=t.n(J),q=(t(34),function(e){function a(){var e,t;Object(l.a)(this,a);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(t=Object(u.a)(this,(e=Object(d.a)(a)).call.apply(e,[this].concat(s)))).renderNotificacion=function(e){var a=e.mensaje;return n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-sm-2 col-md-2 col-lg-2 col-xl-2 NotificacionFoto"},n.a.createElement("img",{src:y.a,className:"iconos",alt:"Mi perfil"})),n.a.createElement("div",{className:"col-sm-10 col-md-10 col-lg-10 col-xl-10 NotificacionContenido"},a))},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("img",{src:Q.a,className:"beeperNubIcon",alt:"beeperNub"})),n.a.createElement("div",{className:"NotificacionContenedor"},this.props.notificaciones.length>0?this.props.notificaciones.map(this.renderNotificacion):n.a.createElement("div",{className:"col-sm-10 col-md-10 col-lg-10 col-xl-10 NotificacionContenido"},"Todav\xeda no tiene notificaciones!")))}}]),a}(n.a.Component)),G=(t(35),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).renderCategoria=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:t},t)},t.renderFiltro=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:a},t)},t.updateValues=function(){var e,a,r;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(fetch("/recetas?search=".concat(encodeURIComponent(t.props.search))));case 2:return e=n.sent,n.next=5,c.a.awrap(e.json());case 5:return a=n.sent,n.next=8,c.a.awrap(fetch("/categorias"));case 8:return e=n.sent,n.next=11,c.a.awrap(e.json());case 11:r=n.sent,t.setState({categorias:r.categorias,recetas:a.recetas});case 13:case"end":return n.stop()}}))},t.renderDetalles=function(e){var a=e.id,t=e.nombre,r=e.pasos,s=e.tiempo,o=e.imagen,c=e.categoria,l=e.usuario,m=e.rating,u=e.ingredientes,d=e.precio,p=n.a.createElement(Y,{key:a,idReceta:a,nombre:t,pasos:r,tiempo:s,imagen:o,categoria:c,usuario:l,rating:m,ingredientes:u,precio:d});i.a.render(p,document.getElementById("root"))},t.renderReceta=function(){for(var e=t.state.recetas.filter((function(e){return("0"===t.state.categoria||e.categoria===t.state.categoria)&&("0"===t.state.precios||"1"===t.state.precios&&e.precio<=1e3||"2"===t.state.precios&&e.precio>=1e3&&e.precio<=2e3||"3"===t.state.precios&&e.precio>=2e3&&e.precio<3e3||"4"===t.state.precios&&e.precio>=3e3)&&("0"===t.state.tiempo||"1"===t.state.tiempo&&e.tiempo<=30||"2"===t.state.tiempo&&e.tiempo>=30&&e.tiempo<=60||"3"===t.state.tiempo&&e.tiempo>=60)})),a=[],r=[],s=0,i=function(){var i=e[s];s>0&&s%4===0&&(a.push(n.a.createElement("div",{className:"row Bdistancia"}," ",r," ")),r=[]),r.push(n.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-3 col-xl-3 "},n.a.createElement("div",{className:"Bresultado"},n.a.createElement("img",{alt:"receta",src:i.imagen,onClick:function(){return t.renderDetalles(i)}}))))};s<e.length;s++)i();return r.length>=1&&(a.push(n.a.createElement("div",{className:"row Bdistancia"}," ",r," ")),r=[]),a},t.state={recetas:[],categorias:[],categoria:"0",precios:"0",tiempo:"0"},document.body.style="background: #faeeae;",t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateValues();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a=this.state,t=(a.recetas,a.categorias);return n.a.createElement("div",null,n.a.createElement(X,null),n.a.createElement("div",{className:"App-contenido"},n.a.createElement("div",{className:"Muro"},n.a.createElement("div",{className:"CuadroFiltros"},n.a.createElement("div",{className:"SuperiorFiltros"},n.a.createElement("label",{className:"Subtitulo"},"Filtros")),n.a.createElement("div",{className:"InteriorCuadroFiltros"},n.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.tiempo,onChange:function(a){e.setState({tiempo:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Tiempo"),[{id:1,nombre:"0-30 min"},{id:2,nombre:"30-60 min"},{id:3,nombre:"60+ min"}].map(this.renderFiltro)),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.categoria,onChange:function(a){e.setState({categoria:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Categor\xeda"),t.map(this.renderCategoria)),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.precios,onChange:function(a){e.setState({precios:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Rango de Precios"),[{id:1,nombre:"0-1000"},{id:2,nombre:"1000-2000"},{id:3,nombre:"2000-3000"},{id:4,nombre:"3000+"}].map(this.renderFiltro)))),n.a.createElement("div",{className:"Bcentrado"},this.renderReceta()))))}}]),a}(n.a.Component)),X=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).stateB={renderB:!1},t.ingBusqueda=function(e){e.preventDefault(),i.a.render(n.a.createElement(G,{key:e.target[0].value,search:e.target[0].value}),document.getElementById("root"))},t.state={render:!1,notificaciones:[]},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e,a,t,r;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=new f.a,a=e.get("USER").id,n.next=4,c.a.awrap(fetch("/notificaciones?id_usuario=".concat(encodeURIComponent(a))));case 4:return t=n.sent,n.next=7,c.a.awrap(t.json());case 7:r=n.sent,this.setState({notificaciones:r.notificaciones.notificaciones.reverse()});case 9:case"end":return n.stop()}}),null,this)}},{key:"displNotificacion",value:function(){this.setState({render:!this.state.render})}},{key:"ingPrincipal",value:function(){i.a.render(n.a.createElement(z,null),document.getElementById("root"))}},{key:"ingPerfil",value:function(){i.a.render(n.a.createElement(M,null),document.getElementById("root"))}},{key:"ingNuevaReceta",value:function(){i.a.render(n.a.createElement(V,null),document.getElementById("root"))}},{key:"cerrarSesion",value:function(){(new f.a).remove("USER"),i.a.render(n.a.createElement(K,null),document.getElementById("root"))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"BarraPrincipal"},n.a.createElement("div",{className:"BarraInicio"},n.a.createElement("img",{src:h.a,className:"ElForaneoP",alt:"El For\xe1neo",onClick:function(){return e.ingPrincipal()}}),n.a.createElement("h1",{className:"Titulo"},"El For\xe1neo")),n.a.createElement("div",{className:"BarraBusqueda"},n.a.createElement("form",{onSubmit:this.ingBusqueda},n.a.createElement("input",{placeholder:"B\xfasqueda...",type:"text",name:"usuario"}))),n.a.createElement("div",{className:"barraIconos"},n.a.createElement("img",{src:j.a,className:"iconos",alt:"Explorar",onClick:function(){return e.ingPrincipal()}}),n.a.createElement("img",{src:y.a,className:"iconos",alt:"Mi perfil",onClick:function(){return e.ingPerfil()}}),n.a.createElement("div",{className:"notificationContainer"},n.a.createElement("img",{src:A.a,className:"iconos",id:"iconoNotificacion",alt:"Notificaciones",onClick:function(){return e.displNotificacion()}}),n.a.createElement("div",{className:"PosicionNotificacion"},this.state.render&&n.a.createElement(q,{notificaciones:this.state.notificaciones}))),n.a.createElement("img",{src:I.a,className:"iconos",alt:"Nueva Receta",onClick:function(){return e.ingNuevaReceta()}}),n.a.createElement("img",{src:x.a,className:"iconos",alt:"Cerrar Sesion",onClick:function(){return e.cerrarSesion()}})))}}]),a}(n.a.Component),Y=(t(36),function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this))).renderIngrediente=function(e,a){var t=e.nombre,r=(e.precio,e.cantidad);return n.a.createElement("li",{key:a},t," x ",r)},t.renderRating=function(){for(var e=[],a=Math.ceil(t.props.rating),r=0;r<a;r++)e.push(n.a.createElement("img",{key:r,src:h.a,className:"iconos",alt:"El For\xe1neo"}));for(var s=a;s<5;s++)e.push(n.a.createElement("img",{key:s,src:b.a,className:"iconos",alt:"El For\xe1neo"}));return e},t.renderImage=function(){return n.a.createElement("img",{src:t.props.imagen,className:"TamanoFoto",alt:"El For\xe1neo",onClick:t.cargarInformacion})},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(X,null),n.a.createElement("div",{className:"FondoInfo"},n.a.createElement("div",{className:"CuadroRecetaInfo"},n.a.createElement("div",{className:"HeadRecetaInfo"},n.a.createElement("div",{className:"Info"},n.a.createElement("img",{src:y.a,className:"iconos",alt:"Notificaciones"}),n.a.createElement("div",{className:"tiempo"},n.a.createElement("label",{id:"NombreUsuarioReceta"}," ",this.props.usuario," "),n.a.createElement("label",{id:"TiempoReceta"}," ",this.props.tiempo," min - ",this.props.categoria," "))),n.a.createElement("div",{className:"barraIconosReceta"},n.a.createElement("img",{src:A.a,className:"iconos",alt:"Notificaciones"}),n.a.createElement("img",{src:w.a,className:"iconos",alt:"Nueva Receta"}))),n.a.createElement("div",{className:"CuerpoRecetaInfo"},n.a.createElement("div",{className:"FotoRecetaInfo"},this.renderImage()),n.a.createElement("div",{className:"PasosRecetaInfo"},n.a.createElement("h1",{id:"NombreReceta"}," ",this.props.nombre),n.a.createElement("label",{id:"Ingredientes"},n.a.createElement("ul",null,this.props.ingredientes.map(this.renderIngrediente))),n.a.createElement("p",null,this.props.pasos),n.a.createElement("label",{id:"PrecioReceta"},"Precio estimado: \u20a1",this.props.precio))),n.a.createElement("div",{className:"BarraCalificacionesInfo"},n.a.createElement("div",{className:"Calificaciones"},this.renderRating())))))}}]),a}(n.a.Component)),L=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).cargarInformacion=function(){var e=n.a.createElement(Y,{key:t.props.key,idReceta:t.props.idReceta,nombre:t.props.nombre,pasos:t.props.pasos,tiempo:t.props.tiempo,imagen:t.props.imagen,categoria:t.props.categoria,usuario:t.props.usuario,rating:t.props.rating,ingredientes:t.props.ingredientes,precio:t.props.precio});i.a.render(e,document.getElementById("root"))},t.likePublicacion=function(){var e,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new f.a,a=e.get("USER").id,r.next=4,c.a.awrap(fetch("/like?id_receta=".concat(t.props.idReceta,"&id_usuario=").concat(a)).then((function(e){return e.json()})).then((function(e){e.deleted?(t.setState({errorMessage:"Receta eliminada de favoritas!"}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),2e3)):(t.setState({errorMessage:"Receta a\xf1adida a favoritas!"}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),2e3))})));case 4:t.props.update();case 5:case"end":return r.stop()}}))},t.sharePublicacion=function(){var e,a;return c.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=new f.a,a=e.get("USER").id,r.next=4,c.a.awrap(fetch("/share?id_receta=".concat(t.props.idReceta,"&id_usuario=").concat(a)).then((function(e){return e.json()})).then((function(e){e.deleted?(t.setState({errorMessage:"Receta eliminada de compartidas!"}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),2e3)):(t.setState({errorMessage:"Receta a\xf1adida a compartidas! Ahora es visible en tu perfil!"}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),2e3))})));case 4:t.props.update();case 5:case"end":return r.stop()}}))},t.ratingPublicacion=function(e){var a,r;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new f.a,r=a.get("USER").id,n.next=4,c.a.awrap(fetch("/rate?id_receta=".concat(t.props.idReceta,"&id_usuario=").concat(r,"&rating=").concat(e)).then((function(e){return e.json()})).then((function(e){e.deleted?(t.setState({errorMessage:"Calificaci\xf3n actualizada!"}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),2e3)):(t.setState({errorMessage:"Calificaci\xf3n a\xf1adida!"}),setTimeout(function(){this.setState({errorMessage:""})}.bind(Object(p.a)(t)),2e3))})));case 4:t.props.update();case 5:case"end":return n.stop()}}))},t.renderIngrediente=function(e,a){var t=e.nombre,r=(e.precio,e.cantidad);return n.a.createElement("li",{key:a},t," x ",r)},t.renderRating=function(){for(var e=[],a=Math.ceil(t.props.rating),r=function(a){e.push(n.a.createElement("img",{onClick:function(){return t.ratingPublicacion(a+1)},key:a,src:h.a,className:"iconos",alt:"El For\xe1neo"}))},s=0;s<a;s++)r(s);for(var i=function(a){e.push(n.a.createElement("img",{onClick:function(){return t.ratingPublicacion(a+1)},key:a,src:b.a,className:"iconos",alt:"El For\xe1neo"}))},o=a;o<5;o++)i(o);return e},t.renderImage=function(){return n.a.createElement("img",{src:t.props.imagen,className:"TamanoFoto",alt:"El For\xe1neo",onClick:t.cargarInformacion})},t.state={errorMessage:""},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return n.a.createElement("div",{className:"CuadroRecetas"},n.a.createElement("h3",null,this.state.errorMessage),n.a.createElement("div",{className:"HeadReceta"},n.a.createElement("div",{className:"Info"},n.a.createElement("img",{src:y.a,className:"iconos",alt:"Notificaciones"}),n.a.createElement("div",{className:"tiempo"},n.a.createElement("label",{id:"NombreUsuarioReceta"}," ",this.props.usuario,"  "),n.a.createElement("label",{id:"TiempoReceta"}," ",this.props.tiempo," min - ",this.props.categoria," "))),n.a.createElement("div",{className:"barraIconosReceta"},n.a.createElement("img",{src:A.a,onClick:this.likePublicacion,className:"iconos",alt:"Notificaciones"}),n.a.createElement("img",{src:w.a,onClick:this.sharePublicacion,className:"iconos",alt:"Nueva Receta"}))),n.a.createElement("div",{className:"CuerpoReceta"},n.a.createElement("div",{className:"FotoReceta"},this.renderImage()),n.a.createElement("div",{className:"PasosReceta"},n.a.createElement("div",{className:"Instrucciones"},n.a.createElement("h1",{id:"NombreReceta"}," ",this.props.nombre),n.a.createElement("label",{id:"Ingredientes"},n.a.createElement("ul",null,this.props.ingredientes.map(this.renderIngrediente))),n.a.createElement("p",null,this.props.pasos),n.a.createElement("label",{id:"PrecioReceta"},"Precio estimado: \u20a1",this.props.precio)))),n.a.createElement("div",{className:"BarraCalificaciones"},n.a.createElement("div",{className:"Calificaciones"},this.renderRating())))}}]),a}(n.a.Component),z=function(e){function a(e){var t;return Object(l.a)(this,a),(t=Object(u.a)(this,Object(d.a)(a).call(this,e))).updateValues=function(){var e,a,r,n,s,i;return c.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,c.a.awrap(fetch("/recetas"));case 2:return e=o.sent,o.next=5,c.a.awrap(e.json());case 5:return a=o.sent,t.setState({recetas:a.recetas}),r=new f.a,n=r.get("USER").id,o.next=11,c.a.awrap(fetch("/categorias"));case 11:return e=o.sent,o.next=14,c.a.awrap(e.json());case 14:return s=o.sent,o.next=17,c.a.awrap(fetch("/favoritas/".concat(encodeURIComponent(n))));case 17:return e=o.sent,o.next=20,c.a.awrap(e.json());case 20:i=o.sent,t.setState({userId:n,favoritas:i.recetas,categorias:s.categorias});case 22:case"end":return o.stop()}}))},t.desplegarFavorito=function(e){for(var a=0;a<t.state.recetas.length;){if(t.state.recetas[a].id===e){i.a.render(t.renderDetalles(t.state.recetas[a]),document.getElementById("root"));break}a++}},t.renderCategoria=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:t},t)},t.renderFiltro=function(e){var a=e.id,t=e.nombre;return n.a.createElement("option",{key:a,value:a},t)},t.renderFavorita=function(e,a){var r=e.id,s=e.nombre;return n.a.createElement("li",{onClick:function(){return t.desplegarFavorito(r)},key:r},s)},t.renderDetalles=function(e){var a=e.id,t=e.nombre,r=e.pasos,s=e.tiempo,i=e.imagen,o=e.categoria,c=e.usuario,l=e.rating,m=e.ingredientes,u=e.precio;return n.a.createElement(Y,{key:a,idReceta:a,nombre:t,pasos:r,tiempo:s,imagen:i,categoria:o,usuario:c,rating:l,ingredientes:m,precio:u})},t.renderReceta=function(e){var a=e.id,r=e.nombre,s=e.pasos,i=e.tiempo,o=e.imagen,c=e.categoria,l=e.usuario,m=e.rating,u=e.ingredientes,d=e.precio;return n.a.createElement(L,{key:a,idReceta:a,nombre:r,pasos:s,tiempo:i,imagen:o,categoria:c,usuario:l,rating:m,ingredientes:u,precio:d,update:t.updateValues})},t.generarPlan=function(){i.a.render(n.a.createElement(F,{recetas:t.state.recetas,categorias:t.state.categorias,notificaciones:t.state.notificaciones}),document.getElementById("root"))},t.state={userId:0,recetas:[],favoritas:[],categorias:[],categoria:"0",precios:"0",tiempo:"0",errorMessage:""},t}return Object(g.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){return c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:this.updateValues();case 1:case"end":return e.stop()}}),null,this)}},{key:"render",value:function(){var e=this,a=this.state,t=(a.userId,a.recetas),r=a.favoritas,s=a.categorias;return n.a.createElement("div",{className:"App"},n.a.createElement(X,null),n.a.createElement("div",{className:"App-contenido"},n.a.createElement("div",{className:"Muro"},n.a.createElement("div",{className:"CuadroFiltros"},n.a.createElement("div",{className:"SuperiorFiltros"},n.a.createElement("label",{className:"Subtitulo"},"Filtros"),n.a.createElement("button",{className:"ButonGenerar",onClick:this.generarPlan}," Generar Plan ")),n.a.createElement("div",{className:"InteriorCuadroFiltros"},n.a.createElement("link",{rel:"stylesheet",href:"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossOrigin:"anonymous"}),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.tiempo,onChange:function(a){e.setState({tiempo:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Tiempo"),[{id:1,nombre:"0-30 min"},{id:2,nombre:"30-60 min"},{id:3,nombre:"60+ min"}].map(this.renderFiltro)),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.categoria,onChange:function(a){e.setState({categoria:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Categor\xeda"),s.map(this.renderCategoria)),n.a.createElement("select",{className:"DropFiltroPlan",value:this.state.precios,onChange:function(a){e.setState({precios:a.target.value})}},n.a.createElement("option",{key:0,value:"0"},"Rango de Precios"),[{id:1,nombre:"0-1000"},{id:2,nombre:"1000-2000"},{id:3,nombre:"2000-3000"},{id:4,nombre:"3000+"}].map(this.renderFiltro)))),t.filter((function(a){return("0"===e.state.categoria||a.categoria===e.state.categoria)&&("0"===e.state.precios||"1"===e.state.precios&&a.precio<=1e3||"2"===e.state.precios&&a.precio>=1e3&&a.precio<=2e3||"3"===e.state.precios&&a.precio>=2e3&&a.precio<3e3||"4"===e.state.precios&&a.precio>=3e3)&&("0"===e.state.tiempo||"1"===e.state.tiempo&&a.tiempo<=30||"2"===e.state.tiempo&&a.tiempo>=30&&a.tiempo<=60||"3"===e.state.tiempo&&a.tiempo>=60)})).map(this.renderReceta)),n.a.createElement("div",{className:"Favoritos"},n.a.createElement("div",{className:"HeaderFavoritos"},"Mis Recetas Favoritas"),n.a.createElement("div",{className:"RecetasFavoritas"},n.a.createElement("ul",null,r.map(this.renderFavorita))))))}}]),a}(n.a.Component),K=function(e){function a(){var e;return Object(l.a)(this,a),e=Object(u.a)(this,Object(d.a)(a).call(this)),(new f.a).get("USER")&&i.a.render(n.a.createElement(z,null),document.getElementById("root")),e.iniciarSesion=e.iniciarSesion.bind(Object(p.a)(e)),e.registrarUsuario=e.registrarUsuario.bind(Object(p.a)(e)),e.state={displayErrors:!1,displayErrorsR:!1,errorMessage:"",errorMessageR:""},e}return Object(g.a)(a,e),Object(m.a)(a,[{key:"iniciarSesion",value:function(e){var a,t,r=this;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),e.target.checkValidity()){s.next=4;break}return this.setState({displayErrors:!0,displayErrorsR:!1,errorMessage:"Por favor revisar los valores insertados",errorMessageR:""}),s.abrupt("return");case 4:return this.state={displayErrors:!1,displayErrorsR:!1,errorMessage:"",errorMessageR:""},a=new FormData(e.target),t=new URLSearchParams(a),s.next=9,c.a.awrap(fetch("/login",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){(console.log(e.result),e.result)?((new f.a).set("USER",{logged:!0,id:e.id},{path:"/"}),i.a.render(n.a.createElement(z,null),document.getElementById("root"))):(console.log("entra aqui"),r.setState({displayErrors:!1,displayErrorsR:!1,errorMessage:"Usuario o contrase\xf1a invalidos",errorMessageR:""}))})));case 9:case"end":return s.stop()}}),null,this)}},{key:"registrarUsuario",value:function(e){var a,t,r=this;return c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(e.preventDefault(),e.target.checkValidity()){s.next=5;break}return this.setState({displayErrors:!1,displayErrorsR:!0}),this.setState({displayErrors:!1,displayErrorsR:!0,errorMessage:"",errorMessageR:"Por favor revisar los valores insertados"}),s.abrupt("return");case 5:return this.setState({displayErrors:!1,displayErrorsR:!1}),a=new FormData(e.target),t=new URLSearchParams(a),s.next=10,c.a.awrap(fetch("/user/register",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){(console.log(e),e.result)?((new f.a).set("USER",{logged:!0,id:e.id},{path:"/"}),i.a.render(n.a.createElement(z,null),document.getElementById("root"))):r.setState({displayErrors:!1,displayErrorsR:!1,errorMessage:"",errorMessageR:"Usuario existente, seleccione un nuevo usuario"})})));case 10:case"end":return s.stop()}}),null,this)}},{key:"render",value:function(){var e=this.state,a=e.displayErrors,t=e.displayErrorsR,r=e.errorMessage,s=e.errorMessageR;return n.a.createElement("div",{id:"App",className:"App"},n.a.createElement("div",{className:"Barra"},n.a.createElement("img",{src:h.a,className:"ElForaneo",alt:"El For\xe1neo"}),n.a.createElement("h1",null,"El For\xe1neo")),n.a.createElement("div",{className:"App-header"},n.a.createElement("div",{className:"CuadroUsu"},n.a.createElement("div",{className:"Superior"},n.a.createElement("label",{className:"Subtitulo"},"Inicio de Sesi\xf3n")),n.a.createElement("div",{className:"InteriorCuadro"},n.a.createElement("form",{noValidate:!0,onSubmit:this.iniciarSesion,className:a?"displayErrors":""},n.a.createElement("input",{className:"Campo",type:"text",name:"usuario",id:"inputUserR",placeholder:"Username",pattern:"^[a-zA-Z0-9_]{1,}$",required:!0}),n.a.createElement("br",null),n.a.createElement("input",{className:"Campo",type:"password",name:"password",id:"inputPassR",placeholder:"Password",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",required:!0}),n.a.createElement("br",null),n.a.createElement("button",{className:"Boton"},"Iniciar Sesi\xf3n"))),n.a.createElement("div",{className:"ErrorMessageL"},n.a.createElement("h3",{className:"ErrorMessageT"},r))),n.a.createElement("div",{className:"CuadroReg"},n.a.createElement("div",{className:"Superior"},n.a.createElement("label",{className:"Subtitulo Subletra"},"Crea una cuenta")),n.a.createElement("div",{className:"InteriorCuadro2"},n.a.createElement("form",{noValidate:!0,onSubmit:this.registrarUsuario,className:t?"displayErrors":""},n.a.createElement("input",{className:"Campo",type:"text",name:"nombre",id:"inputNombre",placeholder:"Nombre",pattern:"^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff]{1,}$",required:!0}),n.a.createElement("br",null),n.a.createElement("input",{className:"Campo",type:"text",name:"apellidos",id:"inputApellido",placeholder:"Apellidos",pattern:"^[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\xff ]{1,}$",required:!0}),n.a.createElement("br",null),n.a.createElement("input",{className:"Campo",type:"email",name:"correo",id:"inputEmail",placeholder:"Correo",required:!0}),n.a.createElement("br",null),n.a.createElement("input",{className:"Campo",type:"text",name:"usuarioR",id:"inputUser",placeholder:"Username",pattern:"^[a-zA-Z0-9_]{1,}$",required:!0}),n.a.createElement("br",null),n.a.createElement("input",{className:"Campo",type:"password",name:"passwordR",id:"inputPass",placeholder:"Password",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",required:!0}),n.a.createElement("br",null),n.a.createElement("button",{className:"Boton"},"Reg\xedstrate"))),n.a.createElement("div",{className:"ErrorMessageL"},n.a.createElement("h3",{className:"ErrorMessageT"},s)))))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(K,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[22,1,2]]]);
//# sourceMappingURL=main.a3e0aa1d.chunk.js.map